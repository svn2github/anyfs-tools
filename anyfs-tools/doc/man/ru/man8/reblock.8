.TH reblock 8 "05 Aug 2006" "Version 0.84.5"
.SH "НАЗВАНИЕ"
reblock \- изменяет размер блока файловой системы.
.SH "СИНТАКСИС"
.BI "reblock [\-nqvV] " "inode_table device blocksize"

.SH "ОПИСАНИЕ"

.B reblock
используя информацию из таблицы инф.узлов изменяет положения \
отдельных фрагментов файлов так, чтобы они были выровнены по границам \
блоков нового размера.

ВНИМАНИЕ: при увеличении размера блока файловой системы будет \
произведена реальная запись на устройство, а значит прежняя файловая \
система устройства будет разрушена.

ВНИМАНИЕ: при увеличении размера блока файловой системы и \
большом заполнении устройства существует вероятность \
нехватки места на диске для распределении очередного блока. При этом \
утилита выйдет с ошибкой и разрушенной окажется не только прежняя \
файловая система, но также уже перемещённые файлы внешней таблицы \
инф.узлов окажутся частично сдвинутыми или недоступными. \
В связи с этим РЕКОМЕНДУЕТСЯ использовать предварительный запуск \
утилиты с опцией
.BR \-n .
	
.SH "ОПЦИИ"
.TP
.B \-n
Не производить реальных действий. В этом случае не будет производится \
ни реального чтения, ни реальной записи на устройство, тем не менее \
новая таблица инф.узлов будет сформирована в памяти (но не записана), \
будет проверено наличие места на устройстве для распределения всех блоков.
.TP
.B \-q
Не выводить ни каких сообщений.
.TP
.B \-v
Выводить число новых фрагментов для каждого файла.
.TP
.B \-V
Вывести только номер версии и выйти.
.TP
.I inode_table
Внешняя таблица инф.узлов. Из этого файла будет считано прежнее \
расположение файлов файловой системы и в этот же файл будет записано \
новое их расположение.
.TP
.I device
Устройство изменение размера блока которого будет производится.
.TP
.I blocksize
Новый размер блока. Это должно быть число степени двойки не меньшее 512.

.SH "ПРИМЕРЫ ИСПОЛЬЗОВАНИЯ"
проверка достаточности свободного места на устройстве:
.br
$ reblock -n ~/inode.table /dev/hda1 4096

переразбиение блоков инф.узлов таблицы ~/inode.table в блоки размером 4096:
.br
$ reblock ~/inode.table /dev/hda1 4096

.SH "АВТОР"
Николай Кривченков aka unDEFER <undefer@gmail.com>

.SH "СООБЩЕНИЯ ОБ ОШИБКАХ"
Сообщения о любых проблемах с применением пакета
.B anyfs-tools
направляйте по адресу:
undefer@gmail.com

.SH "ДОСТУПНОСТЬ"
последнюю версию пакета вы можете получить на сайте проекта: \
http://anyfs-tools.sourceforge.net

.SH "СМ. ТАКЖЕ"
.BR anyfs-tools(8),
.BR anyfs_inode_table(5)
